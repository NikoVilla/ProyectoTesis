#Pantalla Login
<LoginScreen>:
    BoxLayout: 
        orientation: 'vertical'
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 0.35
            pos_hint: {'center_x': 0.5, 'top': 1}

            canvas.before:
                Color:
                    rgba: (45/255, 64/255, 230/255, 1)  # Color #2E37F5 
                Rectangle:
                    pos: self.pos
                    size: self.size

            FloatLayout:
                size_hint: 1, 0.3
                pos_hint: {'center_x': 0.5, 'top': 1}

                Image:
                    source: './Logos/X4.png' 
                    size_hint: 0.3, 0.6
                    pos_hint: {'center_x': 0.5, 'center_y': 0.65}

                Label:
                    text: "CUIDATEST"
                    font_size: "40sp"
                    font_name: "./Fuentes/RobotoCondensed-Bold.ttf"
                    color: [0.949, 0.949, 0.949, 1]  # Color F2F2F2 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.23}
    
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 0.65
            pos_hint: {'center_x': 0.5}

            canvas.before:
                Color:
                    rgba: (242/255, 242/255, 242/255, 1)  # Color #F2F2F2
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1  # Tamaño BoxLayout
                pos_hint: {'center_x': 0.5, 'center_y': 0.3} 
                padding: "30dp" #Separacion lateral
                spacing: "20dp"

                Label:
                    text: "Ingreso"
                    font_size: "30sp"
                    font_name: "./Fuentes/Iceberg-Regular.ttf"
                    color: [0, 0, 0, 1]  # Color Negro
                    pos_hint: {'center_x': 0.5, 'center_y': 0.9}

                MDTextField:
                    id: user
                    hint_text: "Usuario"
                    icon_left: "account"
                    size_hint_x: 1
                    font_size: "18sp"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    write_tab: False
                    hint_text_color_focus: 0, 0, 0, 1
                    icon_left_color_normal: 0, 0, 0, .9 
                MDTextField:
                    id: password
                    hint_text: "Contraseña"
                    icon_left: "key"
                    password: True
                    size_hint_x: 1
                    font_size: "18sp"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    write_tab: False
                    hint_text_color_focus: 0, 0, 0, 1
                    icon_left_color_normal: 0, 0, 0, .9 
                
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, 0.5  # Tamaño BoxLayout
                    pos_hint: {'center_x': 0.5, 'center_y': 0.4} 

                    BoxLayout:
                        size_hint_x: None
                        width: "110dp"
                        orientation: 'horizontal'

                        MDCheckbox:
                            id: recordarUsuario
                            #size_hint: None, None
                            size: "25dp", "25dp"
                            radius: 10
                            halign: 'left'
                            text_size: self.width, None

                        Label:
                            text: "Recordar usuario"
                            font_size: "14sp"
                            font_name: "./Fuentes/Nunito-SemiBold.ttf"
                            color: 0, 0, 0, 1  # Color Negro
                    
                    BoxLayout:
                        size_hint_x: 1

                    Button:
                        text: "¿Olvidaste tu contraseña?"
                        font_size: "14sp"
                        font_name: "./Fuentes/Nunito-SemiBold.ttf"
                        color: 19/255, 27/255, 197/255, 1 
                        background_color: 0., 0., 0, 0
                        borderless: True
                        halign: 'right'
                        text_size: self.width, None
                        #on_release: root.show_new_account_screen()

                MDLabel:
                    id: messages
                    text: ""
                    theme_text_color: "Error"

                MDWidget: 
                    size_hint_y: 0.01

                MDAnchorLayout:
                    padding: [0, 0, 0, "25dp"]
                    MDRaisedButton:
                        text: "Ingresar"
                        size_hint: 0.95, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        md_bg_color: 45/255, 64/255, 230/255, 1 # Color fondo boton 
                        font_name: "./Fuentes/Iceberg-Regular.ttf"
                        font_size: "22sp" 
                        text_color: 242/255, 242/255, 242/255, 1  # Color de letra 
                        _radius: 15
                        on_release: root.login()

                BoxLayout:
                    orientation: 'horizontal'
                    pos_hint: {'center_x': 0.5}
                    spacing: "8dp"
                
                    BoxLayout:
                        orientation: 'horizontal'

                        Label:
                            text: "¿No tienes cuenta?"
                            font_size: "14sp"
                            font_name: "./Fuentes/Nunito-SemiBold.ttf"
                            color: 0, 0, 0, 1  # Color Negro
                            halign: 'right'
                            text_size: self.width, None
                    Button:
                        text: "Regístrate Aquí"
                        font_size: "15sp"
                        font_name: "./Fuentes/Nunito-SemiBold.ttf"
                        color: 19/255, 27/255, 197/255, 1 
                        background_color: 0, 0, 0, 0
                        borderless: True
                        on_release: root.show_new_account_screen()
                        halign: 'left'
                        text_size: self.width, None
                        

# Pantalla Crear cuenta 
<NewAccountScreen>:
    BoxLayout: 
        orientation: 'vertical'
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 0.35
            pos_hint: {'center_x': 0.5, 'top': 1}

            canvas.before:
                Color:
                    rgba: (45/255, 64/255, 230/255, 1)  # Color #2E37F5 
                Rectangle:
                    pos: self.pos
                    size: self.size

            FloatLayout:
                size_hint: 1, 0.3
                pos_hint: {'center_x': 0.5, 'top': 1}

                MDIconButton:
                    icon: "chevron-left" 
                    user_font_size: "50sp"
                    pos_hint: {'center_y': 0.88}
                    on_press: root.show_login_screen()
                    theme_text_color: 'Custom'
                    icon_color: 1, 1, 1, 1

                Image:
                    source: './Logos/X4.png' 
                    size_hint: 0.3, 0.6
                    pos_hint: {'center_x': 0.5, 'center_y': 0.65}

                Label:
                    text: "CUIDATEST"
                    font_size: "40sp"
                    font_name: "./Fuentes/RobotoCondensed-Bold.ttf"
                    color: [0.949, 0.949, 0.949, 1]  # Color F2F2F2 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.23}
    
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 0.65
            pos_hint: {'center_x': 0.5}

            canvas.before:
                Color:
                    rgba: (242/255, 242/255, 242/255, 1)  # Color #F2F2F2
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 1  # Tamaño BoxLayout
                pos_hint: {'center_x': 0.5, 'center_y': 0.3} 
                padding: "30dp" #Separacion lateral
                spacing: "20dp"

                Label:
                    text: "Registro"
                    font_size: "30sp"
                    font_name: "./Fuentes/Iceberg-Regular.ttf"
                    color: (0, 0, 0, 1)  # Color Negro
                    pos_hint: {'center_x': 0.5, 'center_y': 0.9}

                MDTextField:
                    id: new_user
                    hint_text: "Usuario"
                    icon_left: "account"
                    size_hint_x: 1
                    font_size: "18sp"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    write_tab: False
                    hint_text_color_focus: 0, 0, 0, 1
                    icon_left_color_normal: 0, 0, 0, .9 

                MDTextField:
                    id: new_user_password
                    hint_text: "Contraseña"
                    icon_left: "key"
                    password: True
                    size_hint_x: 1
                    font_size: "18sp"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    write_tab: False
                    hint_text_color_focus: 0, 0, 0, 1
                    icon_left_color_normal: 0, 0, 0, .9 

                # MDTextField:
                #     id: confirm_password
                #     hint_text: "Confirmar contraseña"
                #     icon_left: "key"
                #     password: True
                #     size_hint_x: 1
                #     font_size: "18sp"
                #     pos_hint: {"center_x": 0.5, "center_y": 0.5}
                #     write_tab: False
                #     hint_text_color_focus: 0, 0, 0, 1
                #     icon_left_color_normal: 0, 0, 0, .9 

                MDLabel:
                    id: messages
                    text: ""
                    theme_text_color: "Error"

                MDWidget: 
                    size_hint_y: 0.01

                MDAnchorLayout:
                    padding: [0, 0, 0, "25dp"]
                    MDRaisedButton:
                        text: "Registrarse"
                        size_hint: 0.95, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        md_bg_color: 45/255, 64/255, 230/255, 1 # Color fondo boton 
                        font_name: './Fuentes/Iceberg-Regular.ttf' 
                        font_size: "22sp" 
                        text_color: 242/255, 242/255, 242/255, 1  # Color de letra 
                        _radius: 15
                        on_press: root.new_account()

                BoxLayout:
                    orientation: 'horizontal'
                    pos_hint: {'center_x': 0.5}
                    spacing: "8dp"
                
                    BoxLayout:
                        orientation: 'horizontal'

                        Label:
                            text: "¿Tienes una cuenta?"
                            font_size: "14sp"
                            font_name: "./Fuentes/Nunito-SemiBold.ttf"
                            color: 0, 0, 0, 1  # Color Negro
                            halign: 'right'
                            text_size: self.width, None

                    Button:
                        text: "Inicia Sesión Aqui"
                        font_size: "15sp"
                        font_name: "./Fuentes/Nunito-SemiBold.ttf"
                        color: 19/255, 27/255, 197/255, 1 
                        background_color: 0, 0, 0, 0
                        borderless: True
                        on_release: root.show_login_screen()
                        halign: 'left'
                        text_size: self.width, None

<TopPanel>:
    orientation: 'horizontal'
    size_hint: 1, 0.144
    pos_hint: {'center_x': 0.5, 'top': 1}

    canvas.before:
        Color:
            rgba: (45/255, 64/255, 230/255, 1)  # Color #2E37F5 
        Rectangle:
            pos: self.pos
            size: self.size
    
    MDIconButton:
        icon: "chevron-left" 
        pos_hint: {'center_y': 0.5}
        on_press: root.show_app_screen()
        theme_text_color: 'Custom'
        icon_color: 1, 1, 1, 1
    
    FloatLayout:
        size_hint: 1, 1

        Image:
            source: './Logos/X4.png' 
            size_hint: 0.87, 0.87
            size: self.texture_size
            pos_hint: {'center_x': 0.45, 'center_y': 0.5} 
            center: self.parent.center

<BottomPanel>:
    orientation: 'horizontal'
    size_hint: 1, 0.1
    pos_hint: {'center_x': 0.5, 'bottom': 1}

    canvas.before:
        Color:
            rgba: (45/255, 64/255, 230/255, 1)  # Color #2E37F5 
        Rectangle:
            pos: self.pos
            size: self.size

    MDIconButton:
        icon: "home"
        theme_icon_color: "Custom"
        icon_color: (0.949, 0.949, 0.949, 1)
        icon_size: "40sp"
        pos_hint: {'center_y': 0.5}
        size_hint_x: 1
        on_release: root.show_app_screen()

    MDIconButton:
        icon: "bluetooth"
        theme_icon_color: "Custom"
        icon_color: (0.949, 0.949, 0.949, 1)
        icon_size: "40sp"
        pos_hint: {'center_y': 0.5}
        size_hint_x: 1
        on_release: root.show_devices_screen()

    MDIconButton:
        icon: "history" #clipboard-text-clock-outline
        theme_icon_color: "Custom"
        icon_color: (0.949, 0.949, 0.949, 1)
        icon_size: "40sp"
        pos_hint: {'center_y': 0.5}
        size_hint_x: 1
        on_release: root.show_history_screen()

    MDIconButton:
        icon: "heart-cog-outline" #account-alert-outline
        theme_icon_color: "Custom"
        icon_color: (0.949, 0.949, 0.949, 1)
        icon_size: "40sp"
        pos_hint: {'center_y': 0.5}
        size_hint_x: 1
        #on_release: root.show_history_screen()

    MDIconButton:
        icon: "account-circle-outline"
        theme_icon_color: "Custom"
        icon_color: (0.949, 0.949, 0.949, 1)
        icon_size: "40sp"
        pos_hint: {'center_y': 0.5}
        size_hint_x: 1
        #on_release: root.show_history_screen()

<DevicesScreen>
    BoxLayout: 
        orientation: 'vertical'

        TopPanel:
            manager: root.manager

        MDScrollView:
            do_scroll_x: False
            effect_cls: 'ScrollEffect'
            scroll_type: ['content']
            size_hint: 1, 1

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height

                Label:
                    text: "Dispositivos Bluetooth"
                    font_size: "25sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (0, 0, 0, 1)  # Color F2F2F2 
                    size_hint_y: None
                    height: self.texture_size[1]
                    halign: 'left'
                    valign: 'top'
                    text_size: self.width, None
                    padding: ["25dp", "15dp", 0, "22dp"] #izq, top, der, inf

                MDList:
                    id: device_list
                    size_hint_y: None
                    height: self.minimum_height

                # BoxLayout:
                #     orientation: 'horizontal'
                #     size_hint_y: None
                #     height: "50dp"
                #     padding: ["10dp", "10dp", "10dp", "10dp"]

                #     MDRaisedButton:
                #         text: "Agregar"
                #         size_hint_x: None
                #         width: "200dp"
                #         on_release: app.open_device_popup()

                #     # Rectángulo con el estado del dispositivo conectado
                #     BoxLayout:
                #         orientation: 'vertical'
                #         size_hint_y: None
                #         height: self.minimum_height

                #         # Sección para el estado del dispositivo
                #         BoxLayout:
                #             orientation: 'horizontal'
                #             size_hint_x: 0.8
                #             padding: "10dp"

                #             canvas.before:
                #                 Color:
                #                     rgba: 0, 1, 0, 1 #if app.client and app.client.is_connected else 0.5, 0.5, 0.5, 1
                #                 Rectangle:
                #                     pos: self.pos
                #                     size: self.size

                #             Label:
                #                 id: device_status
                #                 text: "No conectado"
                #                 font_size: "20sp"
                #                 font_name: "./Fuentes/Inter-Medium.ttf"
                #                 color: (1, 1, 1, 1)
                #                 size_hint_y: None
                #                 height: self.texture_size[1]

                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
                        Label:
                            text: "Batería Dispositivo"
                            font_size: "25sp"
                            font_name: "./Fuentes/Inter-SemiBold.ttf"
                            color: (0, 0, 0, 1)  # Color F2F2F2 
                            size_hint_y: None
                            height: self.texture_size[1]
                            halign: 'left'
                            text_size: self.width, None
                            padding: ["25dp", "13dp", 0, "20dp"] #izq, top, der, inf

                        MDCard:
                            orientation: "vertical"
                            elevation: 0.6
                            md_bg_color: 242/255, 242/255, 242/255, 1
                            size_hint: 0.45, None
                            padding: [0, 0, 0, "7dp"]
                            pos_hint: {'center_x': 0.28, 'center_y': 0.5}

                            BoxLayout:
                                orientation: 'vertical'
                                #padding: ["40dp", 0, 0, 0]

                                MDLabel:
                                    text: "Nivel de batería"
                                    font_name: './Fuentes/Inter-Medium.ttf'
                                    font_size: "16sp"
                                    halign: "center"
                                    color: 0, 0, 0, 1

                                MDLabel:
                                    text: "99%"
                                    font_name: './Fuentes/Inter-Medium.ttf'
                                    font_size: "30sp"
                                    halign: "left"
                                    color: 0, 0, 0, 1
                                    halign: "center"

                        
        BottomPanel:
            manager: root.manager

<SignosCard>:
    titulo_card: ' '
    valor_signo: ' '
    rango: ' '
    estado: ' '
    orientation: "vertical"
    size: "170dp", "200dp"
    elevation: 0.6
    md_bg_color: 242/255, 242/255, 242/255, 1
    size_hint: 0.01, None
    
    BoxLayout:
        orientation: 'vertical'

        MDLabel:
            id: titulo_card
            text: root.titulo_card
            halign: "center"
            font_name: './Fuentes/Inter-Medium.ttf'
            font_size: "15dp"
            color: 0, 0, 0, 1

        MDLabel:
            id: valor_signo
            text: root.valor_signo
            halign: "center"
            font_name: './Fuentes/Inter-Medium.ttf'
            font_size: "45dp"
            color: 0, 0, 0, 1
            padding: [0,"30dp",0,"10dp"]
            
        MDLabel:
            id: rango
            text: root.rango
            halign: "center"
            font_name: './Fuentes/Inter-Regular.ttf'
            font_size: "15dp"
            color: 0, 0, 0, 1

        MDLabel:
            id: estado
            text: root.estado
            halign: "center"
            font_name: './Fuentes/Inter-Regular.ttf'
            font_size: "15dp"
            color: 36/255, 213/255, 33/255, 1

<AppScreen>:
    BoxLayout: 
        orientation: 'vertical'

        #INICIO PANEL SUPERIOR
        BoxLayout: 
            orientation: 'horizontal'
            size_hint: 1, 0.2
            pos_hint: {'center_x': 0.5, 'top': 1}

            canvas.before:
                Color:
                    rgba: (45/255, 64/255, 230/255, 1)  # Color #2E37F5 
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout: #2/10 del box horizontal
                orientation: 'vertical'
                size_hint: 0.2, None
                pos_hint: {'center_y': 0.52}
                padding: "1dp"
                spacing: "10dp"
                Image:
                    source: './Logos/X4.png' 
                    size_hint: None, None
                    pos_hint: {'center_x': 0.5}
                Label:
                    text: "CUIDATEST"
                    font_size: "15sp"
                    font_name: "./Fuentes/RobotoCondensed-Bold.ttf"
                    color: (0.949, 0.949, 0.949, 1)  # Color F2F2F2 
                    pos_hint: {'center_x': 0.5}
            
            AnchorLayout: #
                anchor_x: 'left'
                size_hint: 0.5, None
                pos_hint: {'center_y': 0.5}
                padding: "1dp"
                spacing: "2dp"
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    Label:
                        text: "Bienvenido de nuevo"
                        font_size: "17sp"
                        font_name: "./Fuentes/Inter-Medium.ttf"
                        color: (233/255, 233/255, 233/255, 1)  # Color E9E9E9 
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        text_size: self.width, None
                    Label:
                        text: "Nicolás Villanueva"
                        font_size: "22sp"
                        font_name: "./Fuentes/Inter-SemiBold.ttf"
                        color: (0.949, 0.949, 0.949, 1)  # Color F2F2F2 
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        text_size: self.width, None

            BoxLayout: 
                orientation: 'vertical'
                size_hint: 0.1, None
                pos_hint: {'center_y': 0.55}
                padding: "1dp"
                spacing: "3dp"
                MDIconButton:
                    icon: "logout"
                    theme_icon_color: "Custom"
                    icon_color: (0.949, 0.949, 0.949, 1)
                    icon_size: "30sp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    on_release: app.root.get_screen('app_screen').log_out()
            
                Label:
                    text: "Salir"
                    font_size: "15sp"
                    font_name: "./Fuentes/Inter-Medium.ttf"
                    color: (0.949, 0.949, 0.949, 1)  # Color F2F2F2 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}            
        #FIN PANEL SUPERIOR

        #CONTENIDO                
        MDScrollView:
            do_scroll_x: False
            effect_cls: 'ScrollEffect'
            scroll_type: ['content']
            size_hint: 1, 1

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height

                Label:
                    text: "Signos vitales"
                    font_size: "25sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (0, 0, 0, 1)  # Color F2F2F2 
                    size_hint_y: None
                    height: self.texture_size[1]
                    halign: 'left'
                    valign: 'top'
                    text_size: self.width, None
                    padding: ["25dp", "15dp", 0, "22dp"] #izq, top, der, inf

                BoxLayout: #contenedor de ult + ver his
                    orientation: 'horizontal'
                    size_hint: 1, 0.5  # Tamaño BoxLayout
                    padding: ["30dp", 0, "40dp", 0]
                        
                    Label:
                        text: "Última medición:" #+ str(self.root.fecha_hora)
                        font_size: "12sp"
                        font_name: "./Fuentes/Nunito-SemiBold.ttf"
                        color: 0, 0, 0, 1  # Color Negro
                        halign: 'left'
                        valign: 'middle'
                        text_size: self.width, None

                    BoxLayout:
                        size_hint_x: 1

                    BoxLayout:
                        orientation: 'horizontal'
                        #size_hint_x: None
                        #width: "95dp"

                        MDIconButton:
                            icon: "history"
                            theme_icon_color: "Custom"
                            icon_color: (45/255, 64/255, 230/255, 1)
                            icon_size: "16sp"
                            pos_hint: {'center_y': 0.5}
                            on_release: root.show_history_screen() 
                            padding: [0, 0, '-20dp', 0]      

                        MDTextButton:
                            text: "Ver historial"
                            font_size: "12sp"
                            font_name: "./Fuentes/Nunito-SemiBold.ttf"
                            color: 19/255, 27/255, 197/255, 1 
                            pos_hint: {'center_y': 0.5}
                            on_release: root.show_history_screen()
                            #Podria optimizar mi codigo usando el MDTextButton, para Regístrate e Inicia Session en Login y Registrar             

                GridLayout:
                    cols: 2
                    rows: 2
                    padding: ["25dp", "13dp", "25dp", "25dp"]
                    spacing: "25dp"
                    size_hint_y: None
                    height: self.minimum_height

                    SignosCard:
                        titulo_card: "Frecuencia Cardíaca (Bpm)"
                        valor_signo: "99"
                        rango: "Rango"
                        estado: "Estado"

                    SignosCard:
                        titulo_card: "Saturación de Oxígeno (SpO2%)"
                        valor_signo: "99"
                        rango: "Rango"
                        estado: "Estado"

                    SignosCard:
                        titulo_card: "Temperatura Corporal (°C)"
                        valor_signo: "99"
                        rango: "Rango"
                        estado: "Estado"

                    SignosCard:
                        titulo_card: "Velocidad Angular (°/s)" #grados por segundo (°/s) o revoluciones por segundo (RPS)
                        valor_signo: "99"
                        rango: "Rango"
                        estado: "Estado"
        BottomPanel:
            manager: root.manager

<HistorialCard@MDCard>:
    egd: ' '
    spo2: ' '
    temp: ' '
    giro: ' '
    orientation: "horizontal"
    size: 1, "100dp"
    elevation: 0.6
    md_bg_color: 1, 1, 1, 1
    size_hint: 1, None
    
    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: "Estado Promedio:"
                font_size: "15sp"
                font_name: "./Fuentes/Inter-Medium.ttf"
                color: (0, 0, 0, 1)  # Color Negro
                halign: 'left'
                text_size: self.width, None
                padding: ["12dp", 0, 0, 0]
                size_hint_x: 0.45
        
            BoxLayout:
                orientation: 'horizontal'
                size_hint_x: 0.30

                MDIcon:
                    id: estado_prom
                    icon: 'circle'
                    font_size: "15sp"
                    pos_hint: {'center_y': 0.5}
                    padding: [0, 0, "7dp", 0]

                Label:
                    text: "Normal"
                    font_size: "14sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (0, 0, 0, 1)  # Color Negro
                    halign: 'left'
                    text_size: self.width, None

            BoxLayout:
                orientation: 'vertical'
                size_hint_x: 0.25
                pos_hint: {'center_y': 0.55}

                Label:
                    text: 'Fecha: 12-12-1212'
                    font_size: "10sp"
                    font_name: "./Fuentes/Inter-Medium.ttf"
                    color: (0, 0, 0, 0.7)  # Color Negro
                    halign: 'left'
                    text_size: self.width, self.height

                Label:
                    text: 'Hora: 22:22'
                    font_size: "10sp"
                    font_name: "./Fuentes/Inter-Medium.ttf"
                    color: (0, 0, 0, 0.7)  # Color Negro
                    halign: 'left'
                    text_size: self.width, None
        BoxLayout:
            orientation: 'horizontal'
            
            FloatLayout: #EGD
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: (9/255, 61/255, 119/255, 1)  # Color #2E37F5 
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [0, 0, 0, 20]
                
                Label:
                    text: 'EGD'
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.5, 'center_y': 0.8}

                Image:
                    source: './Iconos/icon_pulse.png' 
                    size_hint: 0.35, 0.35
                    pos_hint: {'center_x': 0.2, 'center_y': 0.37}

                Label:
                    id: estado_pulso
                    text: "36" 
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1) 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                    padding: [0, 0, '5dp', 0]

                Label:
                    text: "rpm" 
                    font_size: "10sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.7, 'center_y': 0.37}
                    

            FloatLayout: #SpO2
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: (58/255, 124/255, 165/255, 1)  # Color #2E37F5 
                    Rectangle:
                        pos: self.pos
                        size: self.size

                Label:
                    text: 'SpO2'
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.5, 'center_y': 0.8}

                Image:
                    source: './Iconos/icon_SpO2.png' 
                    size_hint: 0.35, 0.35
                    pos_hint: {'center_x': 0.2, 'center_y': 0.37}

                Label:
                    id: estado_spo2
                    text: "36" 
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1) 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.38}

                Label:
                    text: "%" 
                    font_size: "10sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.68, 'center_y': 0.36}
                
            FloatLayout: #Temp
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: 9/255, 61/255, 119/255, 1  # Color #2E37F5 
                    Rectangle:
                        pos: self.pos
                        size: self.size

                Label:
                    text: 'Temp'
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.5, 'center_y': 0.8}

                Image:
                    source: './Iconos/icon_temp.png' 
                    size_hint: 0.35, 0.35
                    pos_hint: {'center_x': 0.2, 'center_y': 0.37}

                Label:
                    id: estado_temp
                    text: "36" 
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1) 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.38}

                Label:
                    text: "°C" 
                    font_size: "10sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.68, 'center_y': 0.36}
                
            FloatLayout: #Giro
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: (58/255, 124/255, 165/255, 1)  # Color #2E37F5 
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [0, 0, 20, 0]

                Label:
                    text: 'Giro'
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.5, 'center_y': 0.8}

                Image:
                    source: './Iconos/icon_giro.png' 
                    size_hint: 0.35, 0.35
                    pos_hint: {'center_x': 0.2, 'center_y': 0.37}

                Label:
                    id: estado_pulso
                    text: "36" 
                    font_size: "13sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1) 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.38}

                Label:
                    text: "°/s" 
                    font_size: "10sp"
                    font_name: "./Fuentes/Inter-SemiBold.ttf"
                    color: (1, 1, 1, 1)
                    pos_hint: {'center_x': 0.68, 'center_y': 0.36}
                
<HistoryScreen>:
    BoxLayout: 
        orientation: 'vertical'
                
        TopPanel:
            id: top_panel
            manager: root.manager

        MDScrollView:
            do_scroll_x: False
            effect_cls: 'ScrollEffect'
            scroll_type: ['content']
            size_hint: 1, 1

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height

                GridLayout:
                    cols: 1
                    padding: ["13dp", "13dp", "13dp", "13dp"]
                    #spacing: "25dp"
                    size_hint_y: None
                    height: self.minimum_height

                    HistorialCard:
                        titulo_card: "Frecuencia Cardíaca (Bpm)"
                        valor_signo: "99"
                        rango: "Rango"
                        estado: "Estado"
        BottomPanel:
            manager: root.manager



